<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ù‚Ù„ ØµÙˆØ± ÙˆÙ…Ù„ÙØ§Øª PDF</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --bg-primary: #0f0f0f;
            --bg-secondary: #1a1a1a;
            --bg-card: #2d2d2d;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --accent: #6d28d9;
            --accent-hover: #5b21b6;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --border: #404040;
        }
        
        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(109, 40, 217, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 20%);
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            text-align: center;
            border: 1px solid var(--border);
        }
        
        header {
            margin-bottom: 25px;
            position: relative;
        }
        
        h1 {
            margin-bottom: 10px;
            font-size: 2.2rem;
            background: linear-gradient(90deg, #6d28d9, #10b981);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(109, 40, 217, 0.3);
        }
        
        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .developer {
            color: var(--accent);
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¨Ø· */
        .connection-screen {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        
        .code-display {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, #6d28d9, #10b981);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin: 20px 0;
            letter-spacing: 10px;
            text-shadow: 0 0 20px rgba(109, 40, 217, 0.5);
        }
        
        .code-input {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            background: var(--bg-primary);
            border: 2px solid var(--accent);
            border-radius: 10px;
            color: var(--text-primary);
            padding: 10px;
            margin: 15px 0;
            width: 300px;
            letter-spacing: 5px;
        }
        
        .connection-status {
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: bold;
        }
        
        .status-connected {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid var(--success);
            color: var(--success);
        }
        
        .status-waiting {
            background: rgba(245, 158, 11, 0.2);
            border: 1px solid var(--warning);
            color: var(--warning);
        }
        
        .device-info {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background: var(--bg-card);
            border-radius: 10px;
        }
        
        .device-count {
            color: var(--accent);
        }
        
        .btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(109, 40, 217, 0.3);
            font-weight: bold;
        }
        
        .btn:hover {
            background: var(--accent-hover);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(109, 40, 217, 0.4);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }
        
        .btn-secondary:hover {
            background: rgba(109, 40, 217, 0.1);
        }
        
        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙØ¹ */
        .upload-section {
            display: none;
            margin-top: 30px;
        }
        
        .upload-area {
            border: 3px dashed var(--border);
            border-radius: 15px;
            padding: 40px 20px;
            margin: 20px 0;
            transition: all 0.3s;
            cursor: pointer;
            background: var(--bg-card);
        }
        
        .upload-area:hover, .upload-area.dragover {
            border-color: var(--accent);
            background: rgba(109, 40, 217, 0.1);
        }
        
        .files-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }
        
        .file-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s;
            background: var(--bg-card);
            border: 1px solid var(--border);
        }
        
        .file-item:hover {
            transform: scale(1.05);
        }
        
        .file-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            display: block;
        }
        
        .file-item .pdf-preview {
            width: 100%;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ef4444, #f59e0b);
        }
        
        .file-name {
            padding: 10px 5px;
            font-size: 0.8rem;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            background: rgba(0, 0, 0, 0.7);
            color: white;
        }
        
        .file-type {
            position: absolute;
            top: 5px;
            left: 5px;
            background: var(--accent);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            background: var(--bg-card);
            display: none;
            border-right: 4px solid var(--accent);
        }
        
        .status.success {
            background: rgba(16, 185, 129, 0.1);
            border-right-color: var(--success);
        }
        
        .status.error {
            background: rgba(239, 68, 68, 0.1);
            border-right-color: var(--error);
        }
        
        .status.warning {
            background: rgba(245, 158, 11, 0.1);
            border-right-color: var(--warning);
        }
        
        footer {
            margin-top: 30px;
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Ù†Ù‚Ù„ ØµÙˆØ± ÙˆÙ…Ù„ÙØ§Øª PDF</h1>
            <p class="subtitle">Ø±Ø¨Ø· Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø¨Ù†Ø¸Ø§Ù… Ø¢Ù…Ù†</p>
            <p class="developer">Ù…Ø·ÙˆØ± Ø¨ÙˆØ§Ø³Ø·Ø© Andrew</p>
        </header>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¨Ø· -->
        <div class="connection-screen" id="connection-screen">
            <h2>Ø±Ø¨Ø· Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</h2>
            
            <!-- Ø¥Ù†Ø´Ø§Ø¡ ØºØ±ÙØ© Ø¬Ø¯ÙŠØ¯Ø© -->
            <div id="create-room">
                <p>Ø£Ù†Ø´Ø¦ ØºØ±ÙØ© Ø¬Ø¯ÙŠØ¯Ø© ÙˆØ§Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¢Ø®Ø±</p>
                <button class="btn" id="create-btn">Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯</button>
                <div class="code-display" id="new-code" style="display: none;"></div>
            </div>
            
            <!-- Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„ØºØ±ÙØ© -->
            <div style="margin: 30px 0; padding: 20px; border-top: 1px solid var(--border);">
                <p>Ø£Ùˆ Ø§Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù… Ù„Ù„Ø§Ù†Ø¶Ù…Ø§Ù…</p>
                <input type="text" class="code-input" id="join-code" maxlength="6" placeholder="______">
                <br>
                <button class="btn btn-secondary" id="join-btn">Ø§Ù†Ø¶Ù… Ø¨Ø§Ù„Ø±Ù…Ø²</button>
            </div>
            
            <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ø±Ø¨Ø· -->
            <div class="connection-status" id="connection-status" style="display: none;">
                <span id="status-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...</span>
            </div>
            
            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² -->
            <div class="device-info" id="device-info" style="display: none;">
                <div class="device-count">Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…ØªØµÙ„Ø©: <span id="connected-devices">1</span></div>
                <div class="code">Ø§Ù„Ø±Ù…Ø²: <span id="current-code">000000</span></div>
            </div>
        </div>
        
        <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙØ¹ (ØªØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø¨Ø·) -->
        <div class="upload-section" id="upload-section">
            <h2>Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª</h2>
            <p class="subtitle">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ‡Ø§ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</p>
            
            <div class="upload-area" id="upload-area">
                <i>ğŸ“</i>
                <p>Ø§Ù†Ù‚Ø± Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª Ù„Ø±ÙØ¹Ù‡Ø§</p>
                <p style="font-size: 0.9rem; margin-top: 10px; color: var(--text-secondary);">ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹: JPG, PNG, GIF, PDF</p>
                <input type="file" id="file-input" accept="image/*,.pdf" multiple>
            </div>
            
            <button class="btn" id="upload-btn">Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</button>
            <button class="btn btn-secondary" id="refresh-btn">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„ÙØ§Øª</button>
            
            <div class="status" id="status"></div>
            
            <div class="files-container" id="files-container">
                <!-- Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ù‡Ù†Ø§ -->
            </div>
        </div>
        
        <footer>
            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; 2023 - ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Andrew</p>
        </footer>
    </div>

    <script>
        let currentCode = '';
        let isConnected = false;
        let refreshInterval;

        document.addEventListener('DOMContentLoaded', function() {
            const createBtn = document.getElementById('create-btn');
            const joinBtn = document.getElementById('join-btn');
            const newCodeDisplay = document.getElementById('new-code');
            const joinCodeInput = document.getElementById('join-code');
            const connectionStatus = document.getElementById('connection-status');
            const statusText = document.getElementById('status-text');
            const deviceInfo = document.getElementById('device-info');
            const uploadSection = document.getElementById('upload-section');
            const connectionScreen = document.getElementById('connection-screen');
            const connectedDevicesSpan = document.getElementById('connected-devices');
            const currentCodeSpan = document.getElementById('current-code');

            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯
            createBtn.addEventListener('click', async () => {
                try {
                    const response = await fetch('/api/generate-code', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        currentCode = data.code;
                        newCodeDisplay.textContent = data.code;
                        newCodeDisplay.style.display = 'block';
                        createBtn.textContent = 'Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø²';
                        
                        // Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                        await joinRoom(currentCode);
                    }
                } catch (error) {
                    showStatus('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ù…Ø²', 'error');
                }
            });

            // Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¨Ø±Ù…Ø²
            joinBtn.addEventListener('click', async () => {
                const code = joinCodeInput.value.trim();
                if (code.length !== 6) {
                    showStatus('Ø§Ù„Ø±Ù…Ø² ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 6 Ø£Ø±Ù‚Ø§Ù…', 'error');
                    return;
                }
                await joinRoom(code);
            });

            // Ø¯Ø§Ù„Ø© Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„ØºØ±ÙØ©
            async function joinRoom(code) {
                try {
                    const response = await fetch('/api/join', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ code: code })
                    });
                    
                    if (response.ok) {
                        currentCode = code;
                        isConnected = true;
                        
                        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                        connectionStatus.style.display = 'block';
                        connectionStatus.className = 'connection-status status-connected';
                        statusText.textContent = 'Ù…ØªØµÙ„ Ø¨Ù†Ø¬Ø§Ø­!';
                        deviceInfo.style.display = 'flex';
                        connectedDevicesSpan.textContent = '2';
                        currentCodeSpan.textContent = code;
                        uploadSection.style.display = 'block';
                        
                        // Ø¨Ø¯Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„ÙØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                        startAutoRefresh();
                        loadFiles();
                    } else {
                        showStatus('Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­', 'error');
                    }
                } catch (error) {
                    showStatus('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„', 'error');
                }
            }

            // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            function startAutoRefresh() {
                refreshInterval = setInterval(() => {
                    loadFiles();
                    updateDeviceInfo();
                }, 3000);
            }

            // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
            async function updateDeviceInfo() {
                if (!currentCode) return;
                
                try {
                    const response = await fetch(`/api/device-info?code=${currentCode}`);
                    if (response.ok) {
                        const data = await response.json();
                        connectedDevicesSpan.textContent = data.deviceCount;
                    }
                } catch (error) {
                    console.error('Error updating device info:', error);
                }
            }

            // Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø§Ù„Ø±ÙØ¹ ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ«...
            // [ÙŠØ¶Ø§Ù Ù‡Ù†Ø§ ÙƒÙˆØ¯ Ø§Ù„Ø±ÙØ¹ Ù…Ù† Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚]
        });

        // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
        function showStatus(message, type) {
            // ÙƒÙˆØ¯ Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø©
        }

        async function loadFiles() {
            if (!currentCode) return;
            
            try {
                const response = await fetch(`/api/files?code=${currentCode}`);
                if (response.ok) {
                    const files = await response.json();
                    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª
                    displayFiles(files);
                }
            } catch (error) {
                console.error('Error loading files:', error);
            }
        }

        function displayFiles(files) {
            // ÙƒÙˆØ¯ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª
        }
    </script>
</body>
</html><!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ù‚Ù„ ØµÙˆØ± ÙˆÙ…Ù„ÙØ§Øª PDF</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --bg-primary: #0f0f0f;
            --bg-secondary: #1a1a1a;
            --bg-card: #2d2d2d;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --accent: #6d28d9;
            --accent-hover: #5b21b6;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --border: #404040;
        }
        
        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(109, 40, 217, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 20%);
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            text-align: center;
            border: 1px solid var(--border);
        }
        
        header {
            margin-bottom: 25px;
            position: relative;
        }
        
        h1 {
            margin-bottom: 10px;
            font-size: 2.2rem;
            background: linear-gradient(90deg, #6d28d9, #10b981);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(109, 40, 217, 0.3);
        }
        
        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .developer {
            color: var(--accent);
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¨Ø· */
        .connection-screen {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        
        .code-display {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, #6d28d9, #10b981);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin: 20px 0;
            letter-spacing: 10px;
            text-shadow: 0 0 20px rgba(109, 40, 217, 0.5);
        }
        
        .code-input {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            background: var(--bg-primary);
            border: 2px solid var(--accent);
            border-radius: 10px;
            color: var(--text-primary);
            padding: 10px;
            margin: 15px 0;
            width: 300px;
            letter-spacing: 5px;
        }
        
        .connection-status {
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: bold;
        }
        
        .status-connected {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid var(--success);
            color: var(--success);
        }
        
        .status-waiting {
            background: rgba(245, 158, 11, 0.2);
            border: 1px solid var(--warning);
            color: var(--warning);
        }
        
        .device-info {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background: var(--bg-card);
            border-radius: 10px;
        }
        
        .device-count {
            color: var(--accent);
        }
        
        .btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(109, 40, 217, 0.3);
            font-weight: bold;
        }
        
        .btn:hover {
            background: var(--accent-hover);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(109, 40, 217, 0.4);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }
        
        .btn-secondary:hover {
            background: rgba(109, 40, 217, 0.1);
        }
        
        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙØ¹ */
        .upload-section {
            display: none;
            margin-top: 30px;
        }
        
        .upload-area {
            border: 3px dashed var(--border);
            border-radius: 15px;
            padding: 40px 20px;
            margin: 20px 0;
            transition: all 0.3s;
            cursor: pointer;
            background: var(--bg-card);
        }
        
        .upload-area:hover, .upload-area.dragover {
            border-color: var(--accent);
            background: rgba(109, 40, 217, 0.1);
        }
        
        .files-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }
        
        .file-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s;
            background: var(--bg-card);
            border: 1px solid var(--border);
        }
        
        .file-item:hover {
            transform: scale(1.05);
        }
        
        .file-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            display: block;
        }
        
        .file-item .pdf-preview {
            width: 100%;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ef4444, #f59e0b);
        }
        
        .file-name {
            padding: 10px 5px;
            font-size: 0.8rem;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            background: rgba(0, 0, 0, 0.7);
            color: white;
        }
        
        .file-type {
            position: absolute;
            top: 5px;
            left: 5px;
            background: var(--accent);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            background: var(--bg-card);
            display: none;
            border-right: 4px solid var(--accent);
        }
        
        .status.success {
            background: rgba(16, 185, 129, 0.1);
            border-right-color: var(--success);
        }
        
        .status.error {
            background: rgba(239, 68, 68, 0.1);
            border-right-color: var(--error);
        }
        
        .status.warning {
            background: rgba(245, 158, 11, 0.1);
            border-right-color: var(--warning);
        }
        
        footer {
            margin-top: 30px;
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Ù†Ù‚Ù„ ØµÙˆØ± ÙˆÙ…Ù„ÙØ§Øª PDF</h1>
            <p class="subtitle">Ø±Ø¨Ø· Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø¨Ù†Ø¸Ø§Ù… Ø¢Ù…Ù†</p>
            <p class="developer">Ù…Ø·ÙˆØ± Ø¨ÙˆØ§Ø³Ø·Ø© Andrew</p>
        </header>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¨Ø· -->
        <div class="connection-screen" id="connection-screen">
            <h2>Ø±Ø¨Ø· Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</h2>
            
            <!-- Ø¥Ù†Ø´Ø§Ø¡ ØºØ±ÙØ© Ø¬Ø¯ÙŠØ¯Ø© -->
            <div id="create-room">
                <p>Ø£Ù†Ø´Ø¦ ØºØ±ÙØ© Ø¬Ø¯ÙŠØ¯Ø© ÙˆØ§Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¢Ø®Ø±</p>
                <button class="btn" id="create-btn">Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯</button>
                <div class="code-display" id="new-code" style="display: none;"></div>
            </div>
            
            <!-- Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„ØºØ±ÙØ© -->
            <div style="margin: 30px 0; padding: 20px; border-top: 1px solid var(--border);">
                <p>Ø£Ùˆ Ø§Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù… Ù„Ù„Ø§Ù†Ø¶Ù…Ø§Ù…</p>
                <input type="text" class="code-input" id="join-code" maxlength="6" placeholder="______">
                <br>
                <button class="btn btn-secondary" id="join-btn">Ø§Ù†Ø¶Ù… Ø¨Ø§Ù„Ø±Ù…Ø²</button>
            </div>
            
            <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ø±Ø¨Ø· -->
            <div class="connection-status" id="connection-status" style="display: none;">
                <span id="status-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...</span>
            </div>
            
            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² -->
            <div class="device-info" id="device-info" style="display: none;">
                <div class="device-count">Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…ØªØµÙ„Ø©: <span id="connected-devices">1</span></div>
                <div class="code">Ø§Ù„Ø±Ù…Ø²: <span id="current-code">000000</span></div>
            </div>
        </div>
        
        <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙØ¹ (ØªØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø¨Ø·) -->
        <div class="upload-section" id="upload-section">
            <h2>Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª</h2>
            <p class="subtitle">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ‡Ø§ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</p>
            
            <div class="upload-area" id="upload-area">
                <i>ğŸ“</i>
                <p>Ø§Ù†Ù‚Ø± Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª Ù„Ø±ÙØ¹Ù‡Ø§</p>
                <p style="font-size: 0.9rem; margin-top: 10px; color: var(--text-secondary);">ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹: JPG, PNG, GIF, PDF</p>
                <input type="file" id="file-input" accept="image/*,.pdf" multiple>
            </div>
            
            <button class="btn" id="upload-btn">Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</button>
            <button class="btn btn-secondary" id="refresh-btn">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„ÙØ§Øª</button>
            
            <div class="status" id="status"></div>
            
            <div class="files-container" id="files-container">
                <!-- Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ù‡Ù†Ø§ -->
            </div>
        </div>
        
        <footer>
            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; 2023 - ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Andrew</p>
        </footer>
    </div>

    <script>
        let currentCode = '';
        let isConnected = false;
        let refreshInterval;

        document.addEventListener('DOMContentLoaded', function() {
            const createBtn = document.getElementById('create-btn');
            const joinBtn = document.getElementById('join-btn');
            const newCodeDisplay = document.getElementById('new-code');
            const joinCodeInput = document.getElementById('join-code');
            const connectionStatus = document.getElementById('connection-status');
            const statusText = document.getElementById('status-text');
            const deviceInfo = document.getElementById('device-info');
            const uploadSection = document.getElementById('upload-section');
            const connectionScreen = document.getElementById('connection-screen');
            const connectedDevicesSpan = document.getElementById('connected-devices');
            const currentCodeSpan = document.getElementById('current-code');

            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯
            createBtn.addEventListener('click', async () => {
                try {
                    const response = await fetch('/api/generate-code', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        currentCode = data.code;
                        newCodeDisplay.textContent = data.code;
                        newCodeDisplay.style.display = 'block';
                        createBtn.textContent = 'Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø²';
                        
                        // Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                        await joinRoom(currentCode);
                    }
                } catch (error) {
                    showStatus('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ù…Ø²', 'error');
                }
            });

            // Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¨Ø±Ù…Ø²
            joinBtn.addEventListener('click', async () => {
                const code = joinCodeInput.value.trim();
                if (code.length !== 6) {
                    showStatus('Ø§Ù„Ø±Ù…Ø² ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 6 Ø£Ø±Ù‚Ø§Ù…', 'error');
                    return;
                }
                await joinRoom(code);
            });

            // Ø¯Ø§Ù„Ø© Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„ØºØ±ÙØ©
            async function joinRoom(code) {
                try {
                    const response = await fetch('/api/join', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ code: code })
                    });
                    
                    if (response.ok) {
                        currentCode = code;
                        isConnected = true;
                        
                        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                        connectionStatus.style.display = 'block';
                        connectionStatus.className = 'connection-status status-connected';
                        statusText.textContent = 'Ù…ØªØµÙ„ Ø¨Ù†Ø¬Ø§Ø­!';
                        deviceInfo.style.display = 'flex';
                        connectedDevicesSpan.textContent = '2';
                        currentCodeSpan.textContent = code;
                        uploadSection.style.display = 'block';
                        
                        // Ø¨Ø¯Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„ÙØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                        startAutoRefresh();
                        loadFiles();
                    } else {
                        showStatus('Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­', 'error');
                    }
                } catch (error) {
                    showStatus('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„', 'error');
                }
            }

            // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            function startAutoRefresh() {
                refreshInterval = setInterval(() => {
                    loadFiles();
                    updateDeviceInfo();
                }, 3000);
            }

            // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
            async function updateDeviceInfo() {
                if (!currentCode) return;
                
                try {
                    const response = await fetch(`/api/device-info?code=${currentCode}`);
                    if (response.ok) {
                        const data = await response.json();
                        connectedDevicesSpan.textContent = data.deviceCount;
                    }
                } catch (error) {
                    console.error('Error updating device info:', error);
                }
            }

            // Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø§Ù„Ø±ÙØ¹ ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ«...
            // [ÙŠØ¶Ø§Ù Ù‡Ù†Ø§ ÙƒÙˆØ¯ Ø§Ù„Ø±ÙØ¹ Ù…Ù† Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚]
        });

        // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
        function showStatus(message, type) {
            // ÙƒÙˆØ¯ Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø©
        }

        async function loadFiles() {
            if (!currentCode) return;
            
            try {
                const response = await fetch(`/api/files?code=${currentCode}`);
                if (response.ok) {
                    const files = await response.json();
                    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª
                    displayFiles(files);
                }
            } catch (error) {
                console.error('Error loading files:', error);
            }
        }

        function displayFiles(files) {
            // ÙƒÙˆØ¯ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª
        }
    </script>
</body>
</html><!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ù‚Ù„ ØµÙˆØ± ÙˆÙ…Ù„ÙØ§Øª PDF</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --bg-primary: #0f0f0f;
            --bg-secondary: #1a1a1a;
            --bg-card: #2d2d2d;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --accent: #6d28d9;
            --accent-hover: #5b21b6;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --border: #404040;
        }
        
        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(109, 40, 217, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 20%);
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            text-align: center;
            border: 1px solid var(--border);
        }
        
        header {
            margin-bottom: 25px;
            position: relative;
        }
        
        h1 {
            margin-bottom: 10px;
            font-size: 2.2rem;
            background: linear-gradient(90deg, #6d28d9, #10b981);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(109, 40, 217, 0.3);
        }
        
        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .developer {
            color: var(--accent);
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¨Ø· */
        .connection-screen {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        
        .code-display {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, #6d28d9, #10b981);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin: 20px 0;
            letter-spacing: 10px;
            text-shadow: 0 0 20px rgba(109, 40, 217, 0.5);
        }
        
        .code-input {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            background: var(--bg-primary);
            border: 2px solid var(--accent);
            border-radius: 10px;
            color: var(--text-primary);
            padding: 10px;
            margin: 15px 0;
            width: 300px;
            letter-spacing: 5px;
        }
        
        .connection-status {
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: bold;
        }
        
        .status-connected {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid var(--success);
            color: var(--success);
        }
        
        .status-waiting {
            background: rgba(245, 158, 11, 0.2);
            border: 1px solid var(--warning);
            color: var(--warning);
        }
        
        .device-info {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background: var(--bg-card);
            border-radius: 10px;
        }
        
        .device-count {
            color: var(--accent);
        }
        
        .btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(109, 40, 217, 0.3);
            font-weight: bold;
        }
        
        .btn:hover {
            background: var(--accent-hover);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(109, 40, 217, 0.4);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }
        
        .btn-secondary:hover {
            background: rgba(109, 40, 217, 0.1);
        }
        
        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙØ¹ */
        .upload-section {
            display: none;
            margin-top: 30px;
        }
        
        .upload-area {
            border: 3px dashed var(--border);
            border-radius: 15px;
            padding: 40px 20px;
            margin: 20px 0;
            transition: all 0.3s;
            cursor: pointer;
            background: var(--bg-card);
        }
        
        .upload-area:hover, .upload-area.dragover {
            border-color: var(--accent);
            background: rgba(109, 40, 217, 0.1);
        }
        
        .files-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }
        
        .file-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s;
            background: var(--bg-card);
            border: 1px solid var(--border);
        }
        
        .file-item:hover {
            transform: scale(1.05);
        }
        
        .file-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            display: block;
        }
        
        .file-item .pdf-preview {
            width: 100%;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ef4444, #f59e0b);
        }
        
        .file-name {
            padding: 10px 5px;
            font-size: 0.8rem;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            background: rgba(0, 0, 0, 0.7);
            color: white;
        }
        
        .file-type {
            position: absolute;
            top: 5px;
            left: 5px;
            background: var(--accent);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            background: var(--bg-card);
            display: none;
            border-right: 4px solid var(--accent);
        }
        
        .status.success {
            background: rgba(16, 185, 129, 0.1);
            border-right-color: var(--success);
        }
        
        .status.error {
            background: rgba(239, 68, 68, 0.1);
            border-right-color: var(--error);
        }
        
        .status.warning {
            background: rgba(245, 158, 11, 0.1);
            border-right-color: var(--warning);
        }
        
        footer {
            margin-top: 30px;
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Ù†Ù‚Ù„ ØµÙˆØ± ÙˆÙ…Ù„ÙØ§Øª PDF</h1>
            <p class="subtitle">Ø±Ø¨Ø· Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø¨Ù†Ø¸Ø§Ù… Ø¢Ù…Ù†</p>
            <p class="developer">Ù…Ø·ÙˆØ± Ø¨ÙˆØ§Ø³Ø·Ø© Andrew</p>
        </header>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¨Ø· -->
        <div class="connection-screen" id="connection-screen">
            <h2>Ø±Ø¨Ø· Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</h2>
            
            <!-- Ø¥Ù†Ø´Ø§Ø¡ ØºØ±ÙØ© Ø¬Ø¯ÙŠØ¯Ø© -->
            <div id="create-room">
                <p>Ø£Ù†Ø´Ø¦ ØºØ±ÙØ© Ø¬Ø¯ÙŠØ¯Ø© ÙˆØ§Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¢Ø®Ø±</p>
                <button class="btn" id="create-btn">Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯</button>
                <div class="code-display" id="new-code" style="display: none;"></div>
            </div>
            
            <!-- Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„ØºØ±ÙØ© -->
            <div style="margin: 30px 0; padding: 20px; border-top: 1px solid var(--border);">
                <p>Ø£Ùˆ Ø§Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù… Ù„Ù„Ø§Ù†Ø¶Ù…Ø§Ù…</p>
                <input type="text" class="code-input" id="join-code" maxlength="6" placeholder="______">
                <br>
                <button class="btn btn-secondary" id="join-btn">Ø§Ù†Ø¶Ù… Ø¨Ø§Ù„Ø±Ù…Ø²</button>
            </div>
            
            <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ø±Ø¨Ø· -->
            <div class="connection-status" id="connection-status" style="display: none;">
                <span id="status-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...</span>
            </div>
            
            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² -->
            <div class="device-info" id="device-info" style="display: none;">
                <div class="device-count">Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…ØªØµÙ„Ø©: <span id="connected-devices">1</span></div>
                <div class="code">Ø§Ù„Ø±Ù…Ø²: <span id="current-code">000000</span></div>
            </div>
        </div>
        
        <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙØ¹ (ØªØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø¨Ø·) -->
        <div class="upload-section" id="upload-section">
            <h2>Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª</h2>
            <p class="subtitle">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ‡Ø§ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</p>
            
            <div class="upload-area" id="upload-area">
                <i>ğŸ“</i>
                <p>Ø§Ù†Ù‚Ø± Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª Ù„Ø±ÙØ¹Ù‡Ø§</p>
                <p style="font-size: 0.9rem; margin-top: 10px; color: var(--text-secondary);">ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹: JPG, PNG, GIF, PDF</p>
                <input type="file" id="file-input" accept="image/*,.pdf" multiple>
            </div>
            
            <button class="btn" id="upload-btn">Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</button>
            <button class="btn btn-secondary" id="refresh-btn">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„ÙØ§Øª</button>
            
            <div class="status" id="status"></div>
            
            <div class="files-container" id="files-container">
                <!-- Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ù‡Ù†Ø§ -->
            </div>
        </div>
        
        <footer>
            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; 2023 - ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Andrew</p>
        </footer>
    </div>

    <script>
        let currentCode = '';
        let isConnected = false;
        let refreshInterval;

        document.addEventListener('DOMContentLoaded', function() {
            const createBtn = document.getElementById('create-btn');
            const joinBtn = document.getElementById('join-btn');
            const newCodeDisplay = document.getElementById('new-code');
            const joinCodeInput = document.getElementById('join-code');
            const connectionStatus = document.getElementById('connection-status');
            const statusText = document.getElementById('status-text');
            const deviceInfo = document.getElementById('device-info');
            const uploadSection = document.getElementById('upload-section');
            const connectionScreen = document.getElementById('connection-screen');
            const connectedDevicesSpan = document.getElementById('connected-devices');
            const currentCodeSpan = document.getElementById('current-code');

            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯
            createBtn.addEventListener('click', async () => {
                try {
                    const response = await fetch('/api/generate-code', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        currentCode = data.code;
                        newCodeDisplay.textContent = data.code;
                        newCodeDisplay.style.display = 'block';
                        createBtn.textContent = 'Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø²';
                        
                        // Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                        await joinRoom(currentCode);
                    }
                } catch (error) {
                    showStatus('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ù…Ø²', 'error');
                }
            });

            // Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¨Ø±Ù…Ø²
            joinBtn.addEventListener('click', async () => {
                const code = joinCodeInput.value.trim();
                if (code.length !== 6) {
                    showStatus('Ø§Ù„Ø±Ù…Ø² ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 6 Ø£Ø±Ù‚Ø§Ù…', 'error');
                    return;
                }
                await joinRoom(code);
            });

            // Ø¯Ø§Ù„Ø© Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„ØºØ±ÙØ©
            async function joinRoom(code) {
                try {
                    const response = await fetch('/api/join', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ code: code })
                    });
                    
                    if (response.ok) {
                        currentCode = code;
                        isConnected = true;
                        
                        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                        connectionStatus.style.display = 'block';
                        connectionStatus.className = 'connection-status status-connected';
                        statusText.textContent = 'Ù…ØªØµÙ„ Ø¨Ù†Ø¬Ø§Ø­!';
                        deviceInfo.style.display = 'flex';
                        connectedDevicesSpan.textContent = '2';
                        currentCodeSpan.textContent = code;
                        uploadSection.style.display = 'block';
                        
                        // Ø¨Ø¯Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„ÙØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                        startAutoRefresh();
                        loadFiles();
                    } else {
                        showStatus('Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­', 'error');
                    }
                } catch (error) {
                    showStatus('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„', 'error');
                }
            }

            // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            function startAutoRefresh() {
                refreshInterval = setInterval(() => {
                    loadFiles();
                    updateDeviceInfo();
                }, 3000);
            }

            // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
            async function updateDeviceInfo() {
                if (!currentCode) return;
                
                try {
                    const response = await fetch(`/api/device-info?code=${currentCode}`);
                    if (response.ok) {
                        const data = await response.json();
                        connectedDevicesSpan.textContent = data.deviceCount;
                    }
                } catch (error) {
                    console.error('Error updating device info:', error);
                }
            }

            // Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø§Ù„Ø±ÙØ¹ ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ«...
            // [ÙŠØ¶Ø§Ù Ù‡Ù†Ø§ ÙƒÙˆØ¯ Ø§Ù„Ø±ÙØ¹ Ù…Ù† Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚]
        });

        // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
        function showStatus(message, type) {
            // ÙƒÙˆØ¯ Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø©
        }

        async function loadFiles() {
            if (!currentCode) return;
            
            try {
                const response = await fetch(`/api/files?code=${currentCode}`);
                if (response.ok) {
                    const files = await response.json();
                    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª
                    displayFiles(files);
                }
            } catch (error) {
                console.error('Error loading files:', error);
            }
        }

        function displayFiles(files) {
            // ÙƒÙˆØ¯ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª
        }
    </script>
</body>
</html>
